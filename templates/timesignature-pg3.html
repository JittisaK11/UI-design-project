{% extends 'layout.html' %}

{% block content %}
<head>
    <script>
      function showAnswer() {
        document.getElementById('answer').style.display = 'block';
        document.getElementById('show-answer-btn').style.display = 'none';
      }

      var currentAudio = null; // This variable will hold the current audio object

      function playAudio() {
      // If there is an audio playing, stop it first
      if (currentAudio) {
          currentAudio.pause(); // Stop the currently playing audio
          currentAudio.currentTime = 0; // Reset the audio to the start
      }

      // Create a new audio object and play it
      currentAudio = new Audio('{{ url_for('static', filename='6_8.m4a') }}');
      currentAudio.play();
      document.getElementById('stop-audio-btn').style.display = 'inline'; // Show the stop button
      }

      function stopAudio() {
          if (currentAudio) {
              currentAudio.pause();
              currentAudio.currentTime = 0; // Reset the audio
              document.getElementById('stop-audio-btn').style.display = 'none'; // Hide the stop button
          }
      }

      setTimeout(function() {
          stopAudio(); // Call the stopAudio function to ensure the audio stops after 15 seconds
      }, 15000);
    </script>
    <style>
      #answer {
        font-weight: bold;
      }
    </style>
  </head>
  <body>

  <div class="content low-opacity">
    <br>
    <h1>Time Signatures</h1>
    
    <p>Compound meters are where each beat can be divided by 3.</p>
    <br>
    <div class="row">
        <div class="col-md-6">
            <img src="/static/compoundmeter.png" alt="simple time signature" width="80%">
        </div>
        <div class="col-md-6">
            <iframe class="video" width="80%" height="100%" src="https://www.youtube.com/embed/rXSW6LdIIuw"></iframe>
        </div>
    </div>
    <br>
    <br>
    <p>How do we interpret this time signature? To listen to a song that uses this time signature, click here: <img src="{{ url_for('static', filename='audio.png') }}" alt="Play Audio" onclick="playAudio()" style="cursor: pointer; width:30px"/> <button id="stop-audio-btn" onclick="stopAudio()" style="display:none;">Stop Audio</button>    </p>
    <button id="show-answer-btn" onclick="showAnswer()">Show the answer</button>
    <p id="answer" style="display:none;">The time signature in the image can be interpreted as "six eighth-note beats per a measure." When hearing music, time signatures can often be interpreted as the ways notes can be heard as a group. The most common ones are 4/4, and 6/8, and 2/4.</p>
    <br>
    <br>
    <br>
    <!-- Navigation Buttons -->
    <div class="row">
        <div class="col-md-6">
            <div class="next-button">
                <a href="timesignature-pg2" id="next-button">Back to previous page</a>
            </div>
        </div>
        <div class="col-md-6">
            <div class="next-button">
                <a href="quiz" id="next-button">Next section</a>
            </div>
        </div>
    </div>
  </div>

  </body>
{% endblock %}
